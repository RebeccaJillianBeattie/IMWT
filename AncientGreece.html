<!DOCTYPE HTML>
<html lang="en">

<head>
	<!--metadata tags-->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrint-to-fit=no">
	<title>Clio &amp; Erato</title>
	
	<!--bootstrap information-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
	
	<!--project css and javascript files-->
	<link rel="stylesheet" href="INSERT DEFAULT STYLESHEET" id="INSERT DEFAULT STYLESHEET ID">
	<script src="javascript.js"></script>
</head>

<body>
	<header class="header sticky-top">
	<!--main navbar-->
	<nav class="navbar navbar-expand-md navbar-dark bg-dark">
		<div class="container">
			<div id="ClioAndErato">
				<a class="navbar-brand" href="index.html">Clio &amp; Erato</a>
			</div>
			
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expander="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>
			
			<div class="collapse navbar-collapse navbar-menu" id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Editions</a>
						<div class="dropdown-menu dropdown-menu-end animate slideIn" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="AncientGreece.html">Ancient Greece</a>
							<a class="dropdown-item" href="#">Edition2</a>
							<a class="dropdown-item" href="#">Edition3</a>
						</div>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Documentation</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Editors</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" onclick="disclaimer()">Disclaimer</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	
	<!--CSS styles navbar-->
	<ul class="nav justify-content-center navbar-menu navbar-light bg-white" id="cssnavbar">
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme1</a>
		</li>
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme2</a>
		</li>
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme3</a>
		</li>
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme4</a>
		</li>
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme5</a>
		</li>
		<li class="nav-item">
			<a class="nav-link sec-nav" onclick="#">Theme6</a>
		</li>
	</ul>
	</header>
	
	<!--jumbotron-->
	<div class="jumbotron jumbotron-fluid">
		<div class="container" style="background-image: url(PlaceHolderImage.jpg); padding-top: 10%; padding-bottom: 10%;  background-size: cover;">
			<h1>Sappho of Ancient Greece</h1>
			<p>SOME TEXT</p>
		</div>
	</div>
	<hr>
	
	<!--introduction to the edition-->
	<div class="textsection" id="editionIntro">
		<p>Text</p>
		<p>Text</p>
		<p>Text</p>
		<p>Text</p>
	</div>
	
	<div class="container" id="texts">
	<div class="row clearfix">
			<div class="col-md-3">
				<div class="row clearfix border p-2">
					<div class="col-md-12">
						<h3>Poems</h3>
						<ul id="list">
						</ul>
					</div>
				</div>
				<div class="row clearfix mt-4">
					<div class="col-md-6">
						<form role="form">
							<div class="checkbox"><label>
								<input type="checkbox" id="showimagery" class="show">Show imagery</label></div>
							<div class="checkbox"><label>
								<input type="checkbox" id="showsong" class="show">Show song quality</label></div>
							<div class="checkbox"><label>
								<input type="checkbox" id="showfirstperson" class="show">Show first-person</label></div>
						</form>
					</div>
				</div>
				
				<div class="row clearfix mt-4">
					<div class="col-md-12">
						<ul class="nav nav-tabs" id="sentenceTab" role="tablist">
						  <li class="nav-item">
							<a class="nav-link" id="imagery-tab" data-toggle="tab" href="#imagery" role="tab" aria-controls="view" aria-selected="true">Imagery</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link" id="song-tab" data-toggle="tab" href="#song" role="tab" aria-controls="view" aria-selected="true">Song quality</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link" id="firstperson-tab" data-toggle="tab" href="#firstperson" role="tab" aria-controls="home" aria-selected="false">First-person</a>
						  </li>
						</ul>

						<!-- Tab panes -->
						<div class="tab-content" id="sentenceContent">
							<div class="tab-pane myBorder myBorder-notop" id="imagery" role="tabpanel" aria-labelledby="imagery-tab">
								<ul class="minimal"></ul>
							</div>
							<div class="tab-pane myBorder myBorder-notop" id="song" role="tabpanel" aria-labelledby="song-tab">
								<ul class="minimal"></ul>
							</div>
							<div class="tab-pane myBorder myBorder-notop" id="firstperson" role="tabpanel" aria-labelledby="firstperson-tab">
								<ul class="minimal"></ul>
							</div>
						</div>
					</div>
				</div>
			</div>		
			<div class="col-md-9">
				<div id="file"></div>
			</div>
		</div>	
	</div>
	</div>
	
	<!--footer-->
	<footer class="border-top">
		<div class="small text-center text-muted fst-italic">
			<p>&copy; Clio &amp; Erato</p>
		</div>
	</footer>
	
	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script>
		String.prototype.tpl = function(o) { 
			var r = this ; 
			for (var i in o) { 
				r = r.replace(new RegExp("\\$"+i, 'g'),o[i])  
			} 
			return r 
		}
		
		var listItemTpl = `<li><a href='#texts' onclick='load("$url")'>$label</a></li>`
		
		$(document).ready(main);

		function main() {
			$.ajax({
				method: 'GET',
				url: 'https://rebeccajillianbeattie.github.io/IMWT/FileListSappho.json',
				success: function(d) {
					for (var i=0; i < d.length; i++) {
						$('#list').append(listItemTpl.tpl({
						url: d[i].url, 
						label: d[i].label}))
					}	
				},
				error: function() {
					alert('No document to show')
				}
			});
			
			
			$('#showimagery').click(function() {
				if (this.checked) 
					$('.imagery').addClass('text-imagery')
				else
					$('.imagery').removeClass('text-imagery')
			})
			$('#showsong').click(function() {
				if (this.checked) 
					$('.song').addClass('text-song')
				else
					$('.keyword').removeClass('text-song')
			})
			$('#showsfirstperson').click(function() {
				if (this.checked) 
					$('.firstperson').addClass('text-firstperson')
				else
					$('.firstperson').removeClass('text-firstperson')
			})
		
		}


		function load(file) {
			$.ajax({
				method: 'GET',
				url: file,
				success: function(d) {
					$('#file').html(d)
					$('.show').prop("checked", false)
					addIds()
					filltabs()
				},
				error: function() {
					alert('Could not load file '+file)
				}
			});
		}
		
		function addIds() {
			addId('.imagery','imagery')
			addId('.song','song')
			addId('.firstperson', 'firstperson')
		}
		
		function addId(what, prefix) {
			var id = '0'
			var elements = $(what); 
			for (var i=0; i<elements.length; i++) {
				elements[i].id = prefix + "-" + id++
			}
		}
		function filltabs(){
			filltab("#file .imagery","list-imagery","#imagery")
			filltab("#file .song","list-song","#song")
			filltab("#file .firstperson","list-firstperson","#firstperson")
		}
		
		
		function filltab(what,style,where) {
			var list = `<li class="list $style"><a href="#" onclick="goto('$place')">$content</a></li>`
			var elements = $(what); 
			$(where+' ul').empty(); 
			for (var i=0; i<elements.length; i++) {
				$(where+' ul').append(list.tpl({
					style:style, 
					place: '#'+elements[i].id,
					content: elements[i].innerHTML
				}) )
			}
		}

		function goto(id) {
			var t = $(id)[0].offsetTop;
			$('body').animate({ scrollTop: t }, 200);
			$(id).addClass('animate');
			setTimeout(function(){
				$(id).removeClass('animate');
			},5000);
		}
		
	</script>
</body>
</html>
